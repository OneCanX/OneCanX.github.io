<!DOCTYPE html><html><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><title>一文解决hexo博客中戳中痛点的pjax问题 | Only My Ego</title><meta name=author content="One Can"><meta name=copyright content="One Can"><link rel="shortcut icon" href=https://s4.ax1x.com/2021/12/25/TaeTgg.jpg><meta name=keywords content=hexo,pjax><meta name=description content=遇到过很多次pjax的适配问题，网页第一次不会加载，只有刷新后才会加载，这里博主给出解决办法。><meta property=og:type content=article><meta property=og:title content=一文解决hexo博客中戳中痛点的pjax问题><meta property=og:url content=https://onecanx.github.io/2022/06/01/%E4%B8%80%E6%96%87%E8%A7%A3%E5%86%B3hexo%E5%8D%9A%E5%AE%A2%E4%B8%AD%E6%88%B3%E4%B8%AD%E7%97%9B%E7%82%B9%E7%9A%84pjax%E9%97%AE%E9%A2%98/ ><meta property=og:site_name content="Only My Ego"><meta property=og:description content=遇到过很多次pjax的适配问题，网页第一次不会加载，只有刷新后才会加载，这里博主给出解决办法。><meta property=og:locale content=zh_CN><meta property=og:image content=https://s4.ax1x.com/2021/12/25/TaeTgg.jpg><meta property=article:published_time content=2022-06-01T11:10:11.000Z><meta property=article:modified_time content=2022-06-01T03:56:30.000Z><meta property=article:author content="One Can"><meta property=article:tag content=hexo><meta property=article:tag content=pjax><meta name=twitter:card content=summary><meta name=twitter:image content=https://s4.ax1x.com/2021/12/25/TaeTgg.jpg><link href=https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css rel=stylesheet><link href=/css/main.css rel=stylesheet><script src=/js/utlis.js></script><script>!function(){var e=mengd.$query("html");"true"===localStorage.isDark?e.setAttribute("theme","dark"):e.removeAttribute("theme")}()</script><link rel=preconnect href=https://s1.hdslb.com/ ><link rel=stylesheet href=//s1.hdslb.com/bfs/static/jinkela/long/font/regular.css><link rel=stylesheet href=//s1.hdslb.com/bfs/static/jinkela/long/font/medium.css><script src=/third-party/js/prefetch-page.js></script><script>addEventListener("load",function(){prefetch({delay:1e3,threshold:25})})</script><meta name=generator content="Hexo 6.2.0"><link rel=alternate href=/atom.xml title="Only My Ego" type=application/atom+xml></head><body><script src=https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.6.0/jquery.min.js></script><script>var $config={CDN:{fancyboxJs:"/third-party/js/fancybox.js",fancyboxCss:"/third-party/css/fancybox.css"},searchFile:"/search.xml",codeBlockExpand:{enable:!0,height:400,scrollTop:200}}</script><div id=body-wrap><nav id=nav-wrap><div class=navbar><div class=bar><a href=/ class=title>Only My Ego</a> <i class="fas fa-search search-btn"></i><ul class=menu><li><a href=/ >首页</a></li><li><a class=menu-child-hover href=javascript:void(0);>找文章</a><ul class=menu-child><li><a href=/tags>标签</a></li><li><a href=/categories>分类</a></li><li><a href=/archives>归档</a></li></ul></li><li><a href=/link>链接</a></li><li><a href=/fcircle>朋友圈</a></li><li><a href=/about>关于我</a></li></ul><i class="fas fa-bars open-nav"></i></div></div><div id=mobile-nav><ul><li><a href=/ >首页</a></li><li><a href=/tags>标签</a></li><li><a href=/categories>分类</a></li><li><a href=/archives>归档</a></li><li><a href=/link>链接</a></li><li><a href=/fcircle>朋友圈</a></li><li><a href=/about>关于我</a></li></ul></div></nav><header id=header><div class=header-author><a href=/ class=author><img src=https://s4.ax1x.com/2021/12/25/TaeTgg.jpg alt="One Can" class=author-avatar><div class=author-name>One Can</div></a></div><div class=header-description><p>好想要说些什么，但只能沉默</p><div class=header-icon><a target=_blank rel=noopener href=https://github.com/OneCanX><i class="fab fa-github"></i></a> <a href=mailto:2258042267@qq.com><i class="fa fa-envelope"></i></a> <a href=/atom.xml><i class="fa-solid fa-rss"></i></a> <a target=_blank rel=noopener href="https://space.bilibili.com/439791128?spm_id_from=444.41.0.0"><i class="fa-brands fa-bilibili"></i></a> <a target=_blank rel=noopener href=https://www.zhihu.com/people/a-fei-27-98><i class="fa-brands fa-zhihu"></i></a></div></div></header><main id=main><article id=post><div class=post-info><div class=post-title><h1>一文解决hexo博客中戳中痛点的pjax问题</h1></div><div class=post-meta><div class=post-date><i class="far fa-calendar-alt fa-fw post-meta-icon"></i> <span class=post-meta-label>发表于 2022-06-01 | </span><i class="fas fa-history fa-fw post-meta-icon"></i> <span class=post-meta-label>更新于 2025-01-22</span></div><div class=post-meta-wordcount><i class="far fa-file-word fa-fw post-meta-icon"></i> <span class=post-meta-label>总字数:</span> <span class=word-count>1k | </span><i class="far fa-clock fa-fw post-meta-icon"></i> <span class=post-meta-label>阅读时长:</span> <span>4分钟</span> | <i class="far fa-eye fa-fw post-meta-icon"></i> <span id=/2022/06/01/%E4%B8%80%E6%96%87%E8%A7%A3%E5%86%B3hexo%E5%8D%9A%E5%AE%A2%E4%B8%AD%E6%88%B3%E4%B8%AD%E7%97%9B%E7%82%B9%E7%9A%84pjax%E9%97%AE%E9%A2%98/ class=leancloud_visitors data-flag-title=一文解决hexo博客中戳中痛点的pjax问题><span class=post-meta-label>阅读量:</span> <span class=leancloud-visitors-count>0</span></span></div></div></div><div class=post-content><h1 id=pjax的js重载><a href=#pjax的js重载 class=headerlink title=pjax的js重载></a>pjax的js重载</h1><p>由于通过 Pjax 切换的页面并没有完全刷新，浏览器不会将网页从头执行一遍，因此有些 JS 将不会生效。重载 JS 脚本大致分为三种：一种是重载 JS 函数，一种是重载整个 JS 文件，另一种是重载内联的 script 标签。</p><h2 id=重载-JS-函数><a href=#重载-JS-函数 class=headerlink title="重载 JS 函数"></a>重载 JS 函数</h2><p>这种重载一般适用于用户自己编写的一些 JS 函数。但是具体情况比较复杂，函数要不要重载还得具体分析。下面举一些例子：</p><ol><li><p>页面不变部分对应的事件</p><p>比如，页面顶部栏有一个搜索按钮，点击之后会弹出搜索框：</p><figure class="highlight js"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class=string>&quot;.search-button&quot;</span>).<span class=property>onclick</span> = <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line> <span class=comment>// ...</span></span><br><span class=line> &#125;;</span><br></pre></td></tr></table></figure><p>由于页面顶部栏不变，所以其中的元素上绑定的事件仍然可以使用，这部分元素对应的 JS 事件不需要重载。</p></li><li><p>页面可变部分对应的事件</p><p>比如，页面主体部分是变化的，懒加载其中的图片：</p><figure class="highlight js"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre></td><td class=code><pre><span class=line><span class=keyword>var</span> imgs = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class=string>&quot;#main img.lazyload&quot;</span>);</span><br><span class=line></span><br><span class=line><span class="title function_">lazyload</span>(imgs);</span><br></pre></td></tr></table></figure><p>当通过 Pjax 切换页面后，由于主体部分改变，上述代码已经失效，因此需要进行重载。为了方便使用，我们使用函数封装一下：</p><figure class="highlight js"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br></pre></td><td class=code><pre><span class=line><span class=keyword>function</span> <span class="title function_">pjax_reload</span>(<span class=params></span>) &#123;</span><br><span class=line><span class=keyword>var</span> imgs = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class=string>&quot;#main img.lazyload&quot;</span>);</span><br><span class=line></span><br><span class=line><span class="title function_">lazyload</span>(imgs);</span><br><span class=line>&#125; </span><br><span class=line></span><br><span class=line><span class=comment>// Pjax 完成后，重新加载上面的函数</span></span><br><span class=line><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class=string>&quot;pjax:complete&quot;</span>, <span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line><span class="title function_">pjax_reload</span>();</span><br><span class=line>&#125;);</span><br></pre></td></tr></table></figure></li></ol><h2 id=重载整个-JS-文件><a href=#重载整个-JS-文件 class=headerlink title="重载整个 JS 文件"></a>重载整个 JS 文件</h2><p>这种情况多数用于第三方文件，比如，卜算子统计的脚本、谷歌&#x2F;百度&#x2F;腾讯分析的脚本等，这些脚本在每一次页面加载后都需要执行。</p><p>我的做法是，在引入这些文件的标签上添加 data-pjax 属性，然后将具有这个属性的标签重新添加在页面中。有时候不方便在这些标签上添加额外的属性，那么你可以在这些标签外套一层标签，如&lt; div class&#x3D;”.pjax-reload”&gt;&lt;&#x2F; div&gt;，然后将 .pjax-reload 里的元素全部重新添加到页面中即可。代码示例如下：<br></p><figure class="highlight js"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre></td><td class=code><pre><span class=line>&lt;script</span><br><span class=line>data-pjax</span><br><span class=line>src=<span class=string>&quot;https://cdn.jsdelivr.net/gh/sukkaw/busuanzi/bsz.pure.mini.js&quot;</span></span><br><span class=line>&gt;&lt;/script&gt;</span><br><span class=line></span><br><span class=line><span class=language-xml><span class=tag>&lt;<span class=name>div</span> <span class=attr>class</span>=<span class=string>&quot;.pjax-reload&quot;</span>&gt;</span></span></span><br><span class=line><span class=language-xml><span class=tag>&lt;<span class=name>script</span> <span class=attr>src</span>=<span class=string>&quot;https://www.google-analytics.com/analytics.js&quot;</span>&gt;</span><span class=tag>&lt;/<span class=name>script</span>&gt;</span></span></span><br><span class=line><span class=language-xml><span class=tag>&lt;/<span class=name>div</span>&gt;</span></span>   </span><br></pre></td></tr></table></figure><br><figure class="highlight js"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br></pre></td><td class=code><pre><span class=line>   <span class=comment>// jQuery 写法</span></span><br><span class=line>$(<span class=string>&quot;script[data-pjax], .pjax-reload script&quot;</span>).<span class="title function_">each</span>(<span class=keyword>function</span> (<span class=params></span>) &#123;</span><br><span class=line>  $(<span class="variable language_">this</span>).<span class="title function_">parent</span>().<span class="title function_">append</span>($(<span class="variable language_">this</span>).<span class="title function_">remove</span>());</span><br><span class=line>&#125;);</span><br><span class=line></span><br><span class=line><span class=comment>// JS 写法</span></span><br><span class=line><span class="variable language_">document</span></span><br><span class=line>  .<span class="title function_">querySelector</span>(<span class=string>&quot;script[data-pjax], .pjax-reload script&quot;</span>)</span><br><span class=line>  .<span class="title function_">forEach</span>(<span class=keyword>function</span> (<span class=params>elem</span>) &#123;</span><br><span class=line>    <span class=keyword>var</span> id = element.<span class=property>id</span> || <span class=string>&quot;&quot;</span>;</span><br><span class=line>    <span class=keyword>var</span> src = element.<span class=property>src</span> || <span class=string>&quot;&quot;</span>;</span><br><span class=line>    <span class=keyword>var</span> code = element.<span class=property>text</span> || element.<span class=property>textContent</span> || element.<span class=property>innerHTML</span> || <span class=string>&quot;&quot;</span>;</span><br><span class=line>    <span class=keyword>var</span> parent = element.<span class=property>parentNode</span>;</span><br><span class=line>    <span class=keyword>var</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class=string>&quot;script&quot;</span>);</span><br><span class=line></span><br><span class=line>    parent.<span class="title function_">removeChild</span>(element);</span><br><span class=line></span><br><span class=line>    <span class=keyword>if</span> (id !== <span class=string>&quot;&quot;</span>) &#123;</span><br><span class=line>      script.<span class=property>id</span> = element.<span class=property>id</span>;</span><br><span class=line>    &#125;</span><br><span class=line></span><br><span class=line>    <span class=keyword>if</span> (src !== <span class=string>&quot;&quot;</span>) &#123;</span><br><span class=line>      script.<span class=property>src</span> = src;</span><br><span class=line>      script.<span class=property>async</span> = <span class=literal>false</span>;</span><br><span class=line>    &#125;</span><br><span class=line></span><br><span class=line>    <span class=keyword>if</span> (code !== <span class=string>&quot;&quot;</span>) &#123;</span><br><span class=line>      script.<span class="title function_">appendChild</span>(<span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(code));</span><br><span class=line>    &#125;</span><br><span class=line></span><br><span class=line>    parent.<span class="title function_">appendChild</span>(script);</span><br><span class=line>  &#125;);</span><br></pre></td></tr></table></figure><p></p><h2 id=重载整个script标签><a href=#重载整个script标签 class=headerlink title=重载整个script标签></a>重载整个script标签</h2><p>这种情况和前面类似，如果一些 JS 脚本写在 script 标签中，并且需要重载，可以选择直接重载整个 script 标签。具体做法和上一步相同，在标签上添加 data-pjax 属性，然后将具有这个属性的标签重新添加到页面中。</p><h1 id=实际操作><a href=#实际操作 class=headerlink title=实际操作></a>实际操作</h1><h2 id=初级方案><a href=#初级方案 class=headerlink title=初级方案></a>初级方案</h2><p>在一些主题中如果作者有在pjax.ejs或者pjax.pug等类似文件中有类似如下代码的适配：</p><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre></td><td class=code><pre><span class=line>document.querySelectorAll(&#x27;script[data-pjax]&#x27;).forEach(item =&gt; &#123;</span><br><span class=line>      const newScript = document.createElement(&#x27;script&#x27;)</span><br><span class=line>      const content = item.text || item.textContent || item.innerHTML || &#x27;&#x27;</span><br><span class=line>      Array.from(item.attributes).forEach(attr =&gt; newScript.setAttribute(attr.name, attr.value))</span><br><span class=line>      newScript.appendChild(document.createTextNode(content))</span><br><span class=line>      item.parentNode.replaceChild(newScript, item)</span><br><span class=line>    &#125;)</span><br></pre></td></tr></table></figure><p>其中可以看到选择器中有包含data-pjax的script标签会被重新加载，可以在需要重载的script标签加data-pjax属性。</p><blockquote><p>也可以自己加选择器在querySelectorAll()里，比如butterfly主题中加入了名为“js-pjax”的类选择器。</p></blockquote><h2 id=终极方案><a href=#终极方案 class=headerlink title=终极方案></a>终极方案</h2><p>对于集成在插件里的js或者一些使用初级方案后仍旧无法重载的部分，可以在new pjax()中选择相应的标签对应的选择器。</p><blockquote><p>博主本人并不十分了解pjax，这里这是给出自己的一些解决办法。</p></blockquote><h1 id=参考文章><a href=#参考文章 class=headerlink title=参考文章></a>参考文章</h1><ul><li><a target=_blank rel=noopener href=https://liuyib.github.io/2019/09/24/use-pjax-to-your-site/#%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8>集成 Pjax 实现网站无刷新加载</a></li><li><a target=_blank rel=noopener href=https://cloud.tencent.com/developer/article/1834038>Butterfly的Pjax适配方案</a></li></ul></div><div class=post-copyright><div class=post-copyright-icon></div><div class=post-copyright-author><span class=post-copyright-meta>文章作者: </span><span class=post-copyright-info><a href=mailto:2258042267@qq.com>OneCan</a></span></div><div class=post-copyright-type><span class=post-copyright-meta>文章链接: </span><span class=post-copyright-info><a href=https://OneCanX.github.io/2022/06/01/一文解决hexo博客中戳中痛点的pjax问题/ >https://OneCanX.github.io/2022/06/01/一文解决hexo博客中戳中痛点的pjax问题/</a></span></div><div class=post-copyright-notice><span class=post-copyright-meta>版权声明: </span><span class=post-copyright-info>本博客所有文章除特别声明外，均采用 <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>CC BY-NC-SA 4.0 </a>许可协议。转载请注明来自 <a href=https://OneCanX.github.io/2022/06/01/一文解决hexo博客中戳中痛点的pjax问题/ target=_blank>Only My Ego</a> ！</span></div></div><div class=pagination-post><a href=/2022/06/03/%E6%88%91%E7%9A%84%E4%B8%80%E4%BA%9B%E5%BF%83%E4%BA%8B/ ><div class=prev-title><i class="fas fa-chevron-left"></i>我的一些心事</div><div class=prev-desc>写下来纪念一下自己的改变...</div></a><a href=/2022/06/01/%E5%B0%86%E4%B8%BB%E9%A2%98%E4%BB%8Ebutterfly%E6%8D%A2%E5%88%B0MengD%E4%BA%86/ ><div class=next-title>将主题从butterfly换到MengD了<i class="fas fa-chevron-right"></i></div><div class=next-desc>butterfly支持的功能很多也很全，但博主已无力涉及太多前端知识，寻觅很久找到该款主题。</div></a></div><div class=comment-head id=直达评论><hr><div class=comment-headline><i class="fas fa-comments fa-fw"></i> <span>评论</span></div><div id=vcomments></div><script>function LoadValine(){mengd.getScript("https://unpkg.com/valine@1.5.3/dist/Valine.min.js",function(){let e={el:"#vcomments",path:window.location.pathname,appId:"9fMsW9KrGuTxfcKsK7VFV9kr-MdYXbMMI",appKey:"iE4i3SOeyyrnJYJiSj1Qv2QB",master:"355eccbffbbafb69852e5962b9bf493a",friends:"630691ed2f4b812480ebe52b28a8e18e",placeholder:"有什么想说的，在这里留言吧... \n昵称写QQ号可以显示QQ头像哦 \n网址栏可以不写...",avatar:"monsterid",tagMeta:"博主,全网唯一指定魏女神,访客".split(","),pageSize:10,lang:"zh-CN",emojiCDN:"",emojiMaps:null,enableQQ:!0,visitor:!0};var a={serverURLs:"https://api.onecanx.top",recordIP:!0,highlight:!0};e=Object.assign(e,a),new Valine(e)})}LoadValine()</script></div></article><div id=toc-wrap><div id=toc><div class=toc-title><div>目录 <span class=num>0%</span></div><progress class=progress value=0 max=100></progress></div><div class=toc-list><ol class=toc><li class="toc-item toc-level-1"><a class=toc-link href=#pjax%E7%9A%84js%E9%87%8D%E8%BD%BD><span class=toc-text>pjax的js重载</span></a><ol class=toc-child><li class="toc-item toc-level-2"><a class=toc-link href=#%E9%87%8D%E8%BD%BD-JS-%E5%87%BD%E6%95%B0><span class=toc-text>重载 JS 函数</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E9%87%8D%E8%BD%BD%E6%95%B4%E4%B8%AA-JS-%E6%96%87%E4%BB%B6><span class=toc-text>重载整个 JS 文件</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E9%87%8D%E8%BD%BD%E6%95%B4%E4%B8%AAscript%E6%A0%87%E7%AD%BE><span class=toc-text>重载整个script标签</span></a></li></ol></li><li class="toc-item toc-level-1"><a class=toc-link href=#%E5%AE%9E%E9%99%85%E6%93%8D%E4%BD%9C><span class=toc-text>实际操作</span></a><ol class=toc-child><li class="toc-item toc-level-2"><a class=toc-link href=#%E5%88%9D%E7%BA%A7%E6%96%B9%E6%A1%88><span class=toc-text>初级方案</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E7%BB%88%E6%9E%81%E6%96%B9%E6%A1%88><span class=toc-text>终极方案</span></a></li></ol></li><li class="toc-item toc-level-1"><a class=toc-link href=#%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0><span class=toc-text>参考文章</span></a></li></ol></div></div></div></main></div><section id=rightside><div class=rightside-item><a id=open-toc title=目录><i class="fas fa-list-ul"></i> </a><a href=javascript:void(0); id=darkmode title="深色/浅色 "><i class="fas fa-moon"></i> </a><a href=#直达评论 title=直达评论><i class="fas fa-comments"></i> </a><a href=# title=回到顶部><i class="fas fa-arrow-up"></i></a></div></section><footer class=footer id=footer><div class=copyright>&copy; 2021 - 2025 <i class="fas fa-fan"></i> One Can</div><div class=framework-info><span>框架</span> <a href=https://hexo.io target=_blank>Hexo</a> <span class=footer-separator>|</span> <span>主题 </span><a href=https://github.com/lete114/hexo-theme-MengD target=_blank>MengD</a></div><div class=custom-text>很高兴认识你</div></footer><div id=mask onclick=closeAll()></div><div id=local-search><div id=local-search-title>本地搜索</div><input id=local-search-input autocomplete=off placeholder=搜索文章 type=text><hr><div id=local-search-result></div><span class=search-close-button><i class="fas fa-times"></i></span></div><script src=/js/search.js></script><div class=script><script src=/js/main.js></script><script>var titleTime,originTitle=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="(つェ⊂) 我藏好了哦~ "+originTitle,clearTimeout(titleTime)):(document.title="(*´∇｀*) 被你发现啦~ "+originTitle,titleTime=setTimeout(function(){document.title=originTitle},2e3))})</script><script src=/js/lazyload.js></script><script>function LoadPjax(){window.pjax=new Pjax({selectors:["head title",'head meta[name="keywords"]','head meta[name="description"]',"main","#rightside","#bber"],cacheBust:!1})}mengd.getScript("https://npm.elemecdn.com/pjax/pjax.min.js",LoadPjax);var timer=null;function ProgressStart(){var e="pjax-progress",t=mengd.$query("."+e),r=10;t||((t=document.createElement("div")).className=e,document.body.prepend(t));clearInterval(timer),timer=setInterval(function(){var e=parseInt(7*Math.random());95<(r+=e+3)&&(r=95),t.style.width=r+"%"},500)}function ProgressFinish(){clearInterval(timer);var e=mengd.$query(".pjax-progress");e.style.width="100%",timer=setTimeout(function(){e.parentNode.removeChild(e)},700)}document.addEventListener("pjax:send",function(){ProgressStart()}),document.addEventListener("pjax:complete",function(){ProgressFinish()}),document.addEventListener("pjax:success",function(){exeAllFn(),ImgLazyLoad("body img[data-src]","data-src"),prefetch({delay:1e3,threshold:25}),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script");var r=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(r)),e.parentNode.replaceChild(t,e)})}),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script></div></body></html>